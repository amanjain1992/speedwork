!function(e){function t(e){return e>1073741824?(e/1024/1024/1024).toFixed(2)+" GB":e>1048576?(e/1024/1024).toFixed(2)+" MB":e>1024?(e/1024).toFixed(2)+" KB":1024>e?e+" Bytes":void 0}function n(t,n,a){n=e(n).first()||n;var r=t.offset().top,i=t.offset().left,s=a.position.split(/,?\s+/),o=s[0],l=s[1];r-=n.outerHeight()-a.offset[0],i+=t.outerWidth()+a.offset[1],/iPad/i.test(navigator.userAgent)&&(r-=e(window).scrollTop());var u=n.outerHeight()+t.outerHeight();"center"==o&&(r+=u/2),"bottom"==o&&(r+=u);var f=t.outerWidth();return"center"==l&&(i-=(f+n.outerWidth())/2),"left"==l&&(i-=f),{top:r,left:i}}function a(e){function t(){return this.getAttribute("type")==e}return t.key='[type="'+e+'"]',t}function r(t,a,r){function s(t,n,a){if(r.grouped||!t.length){var s;if(a===!1||e.isArray(a)){s=i.messages[n.key||n]||i.messages["*"],s=s[r.lang]||i.messages["*"].en;var o=s.match(/\$\d/g);o&&e.isArray(a)&&e.each(o,function(e){s=s.replace(this,a[e])})}else s=a[r.lang]||a;t.push(s)}}var o=this,u=a.add(o);t=t.not(":button, :image, :reset, :submit"),a.attr("novalidate","novalidate"),e.extend(o,{getConf:function(){return r},getForm:function(){return a},getInputs:function(){return t},reflow:function(){return t.each(function(){var t=e(this),a=t.data("msg.el");if(a){var i=n(t,a,r);a.css({top:i.top,left:i.left})}}),o},invalidate:function(n,a){if(!a){var i=[];e.each(n,function(e,n){var a=t.filter("[name='"+e+"']");a.length&&(a.trigger("OI",[n]),i.push({input:a,messages:[n]}))}),n=i,a=e.Event()}return a.type="onFail",u.trigger(a,[n]),a.isDefaultPrevented()||d[r.effect][0].call(o,n,a),o},reset:function(n){return n=n||t,n.removeClass(r.errorClass).each(function(){var t=e(this).data("msg.el");t&&(t.remove(),e(this).data("msg.el",null))}).off(r.errorInputEvent+".v"||""),o},destroy:function(){return a.off(r.formEvent+".V reset.V"),t.off(r.inputEvent+".V change.V"),o.reset()},checkValidity:function(n,a){if(n=n||t,n=n.not(":disabled"),!n.length)return!0;if(a=a||e.Event(),a.type="onBeforeValidate",u.trigger(a,[n]),a.isDefaultPrevented())return a.result;var i=[];n.each(function(){var t=[],n=e(this).data("messages",t),f=l&&n.is(":date")?"onHide.v":r.errorInputEvent+".v";return n.off(f),e.each(c,function(){var e=this,i=e[0];if(n.filter(i).length){var l=e[1].call(o,n,n.val());if(l!==!0){if(a.type="onBeforeFail",u.trigger(a,[n,i]),a.isDefaultPrevented())return!1;var f=n.attr(r.messageAttr)||n.attr("message");if(f&&n.val())return t=[f],!1;s(t,i,l)}}}),t.length&&(i.push({input:n,messages:t}),n.trigger("OI",[t]),r.errorInputEvent&&n.on(f,function(e){o.checkValidity(n,e)})),r.singleError&&i.length?!1:void 0});var f=d[r.effect];if(!f)throw'Validator: cannot find effect "'+r.effect+'"';return i.length?(o.invalidate(i,a),!1):(f[1].call(o,n,a),a.type="onSuccess",u.trigger(a,[n]),n.off(r.errorInputEvent+".v"),!0)}}),e.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(t,n){e.isFunction(r[n])&&e(o).on(n,r[n]),o[n]=function(t){return t&&e(o).on(n,t),o}}),r.formEvent&&a.on(r.formEvent+".V",function(e){return o.checkValidity(null,e)?(e.target=a,void(e.type=r.formEvent)):e.preventDefault()}),a.on("reset.V",function(){o.reset()}),t[0]&&t[0].validity&&t.each(function(){this.oninvalid=function(){return!1}}),a[0]&&(a[0].checkValidity=o.checkValidity),r.inputEvent&&t.on(r.inputEvent+".V",function(t){o.checkValidity(e(this),t)}),t.filter(":checkbox, select").filter("[required]").on("change.V",function(t){var n=e(this);(this.checked||n.is("select")&&e(this).val())&&d[r.effect][1].call(o,n,t)}),t.filter(":radio[required]").on("change.V",function(t){var n=e("[name='"+e(t.srcElement).attr("name")+"']");null!=n&&0!=n.length&&o.checkValidity(n,t)}),e(window).resize(function(){o.reflow()})}e.tools=e.tools||{version:"@VERSION"};var i,s=/\[type=([a-z]+)\]/,o=/^-?[0-9]*(\.[0-9]+)?$/,l=e.tools.dateinput,u=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,f=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i;i=e.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div><em/></div>",messageAttr:"data-message",messageClass:"error",offset:[-5,40],position:"top left",singleError:!1,speed:"normal"},messages:{"*":{en:_e("This field should not be left blank.")}},localize:function(t,n){e.each(n,function(e,n){i.messages[e]=i.messages[e]||{},i.messages[e][t]=n})},localizeFn:function(t,n){i.messages[t]=i.messages[t]||{},e.extend(i.messages[t],n)},fn:function(t,n,r){e.isFunction(n)?r=n:("string"==typeof n&&(n={en:n}),this.messages[t.key||t]=n);var i=s.exec(t);i&&(t=a(i[1])),c.push([t,r])},addEffect:function(e,t,n){d[e]=[t,n]}};var c=[],d={"default":[function(t){var a=this.getConf();e.each(t,function(t,r){var i=r.input;i.addClass(a.errorClass);var s=i.data("msg.el");s||(s=e(a.message).addClass(a.messageClass).appendTo(document.body),i.data("msg.el",s)),s.css({visibility:"hidden"}).find("p").remove(),e.each(r.messages,function(t,n){e("<p/>").html(n).appendTo(s)}),s.outerWidth()==s.parent().width()&&s.add(s.find("p")).css({display:"inline"});var o=n(i,s,a);s.css({visibility:"visible",position:"absolute",top:o.top,left:o.left}).fadeIn(a.speed)})},function(t){var n=this.getConf();t.removeClass(n.errorClass).each(function(){var t=e(this).data("msg.el");t&&t.css({visibility:"hidden"})})}]};e.each("email,url,number".split(","),function(t,n){e.expr[":"][n]=function(e){return e.getAttribute("type")===n}}),e.fn.oninvalid=function(e){return this[e?"on":"trigger"]("OI",e)},i.fn(":email,[data-type=email]",_e("Please enter a valid email address"),function(e,t){return!t||u.test(t)}),i.fn(":url,[data-type=url]",_e("Please enter a valid URL"),function(e,t){return!t||f.test(t)}),i.fn(":number,[data-type=number]",_e("Please enter a numeric value."),function(e,t){return o.test(t)}),i.fn("[data-type='mobile'], [type=mobile]",_e("Please enter a valid 10 digits mobile number."),function(e,t){return!t||mobRe.test(t)}),i.fn("[max]",_e("Please enter a value no larger than $1"),function(e,t){if(""===t||l&&e.is(":date"))return!0;var n=e.attr("max");return parseFloat(t)<=parseFloat(n)?!0:[n]}),i.fn("[min]",_e("Please enter a value of at least $1"),function(e,t){if(""===t||l&&e.is(":date"))return!0;var n=e.attr("min");return parseFloat(t)>=parseFloat(n)?!0:[n]}),i.fn("[minlength]",_e("Please provide at least $1 character(s)"),function(e,t){var n=e.attr("minlength");return t.length>=n?!0:[n]}),i.fn("[maxlength]",_e("Maximum $1 character allowed"),function(e,t){var n=e.attr("maxlength");return t.length<=n?!0:[n]}),i.fn("[minwords]",_e("Please provide at least $1 word(s)"),function(e,t){var n=e.attr("minwords"),a=t.split(/\b[\s,\.-:;]*/).length;return a>=n?!0:[n]}),i.fn("[maxwords]",_e("Maximum $1 word(s) allowed"),function(e,t){var n=e.attr("maxwords"),a=t.split(/\b[\s,\.-:;]*/).length;return n>=a?!0:[n]}),i.fn("[required]",_e("Please complete this mandatory field."),function(e,t){return""!=e.attr("placeholder")&&void 0!=e.attr("placeholder")&&e.attr("placeholder")==t?!1:"group"==e.attr("data-type")?!0:e.is(":visible")||e.hasClass("validatehidden")?e.is(":checkbox")?e.is(":checked"):!!t:!0}),i.fn("[pattern]",function(e,t){return""===t||new RegExp("^"+e.attr("pattern")+"$").test(t)}),i.fn(":radio[required]",_e("Please select an option."),function(t){{var n=!1;e("[name='"+t.attr("name")+"']").each(function(t,a){e(a).is(":checked")&&(n=!0)})}return n?!0:!1}),i.fn("[type=time]",_e("Please supply a valid time"),function(e,t){return/^\d\d:\d\d$/.test(t)}),i.fn("[data-equals]",_e("Value not equal with the $1 field"),function(e){var t=e.attr("data-equals"),n=this.getInputs().filter("[name="+t+"]");return e.val()==n.val()?!0:[t]}),i.fn("[data-type=file],[type=file]",function(n){var a=n.val().split(".").pop().toLowerCase(),r=n.data("accept");if(!r||void 0==r)return!0;var i=r.split(",");if(-1==e.inArray(a,i))return _e("Please enter valid extensions $1",r);var s=n.data("allowed-size");if(!s||void 0==s||0==s)return!0;var o=n[0],l=parseInt(o.files[0].fileSize);return l>s?_e("File size is : $1 . Allowed size is $2",t(l),t(s)):!0}),i.fn("[data-type=group]",function(e,t){if(e.is(":checkbox"))var n=e.attr("name"),a=this.getInputs().filter("[name="+n+"]:checked");else var a=e.val();if(!a)return!0;var r=e.attr("data-length"),i=e.attr("data-max"),s=e.attr("data-min");return r&&a.length!=parseInt(r)?_e("You have to select $1 value(s)!",r):i&&a.length>parseInt(i)?_e("You can select maximum $1 value(s)",i):s&&a.length<parseInt(s)?_e("You have to select minimum $1 value(s)",s):!0}),e.fn.validator=function(t){var n=this.data("validator");return n&&(n.destroy(),this.removeData("validator")),t=e.extend(!0,{},i.conf,t),this.is("form")?this.each(function(){var a=e(this);n=new r(a.find(":input"),a,t),a.data("validator",n)}):(n=new r(this,this.eq(0).closest("form"),t),this.data("validator",n))}}(jQuery);