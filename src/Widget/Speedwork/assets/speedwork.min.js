function _e(a){var b=Array.apply(null,arguments).slice(1);return $.isArray(b)&&$.each(b,function(c){a=a.replace(this,b[c])}),a}function _link(a){if(!seo_urls&&"index."!=a.substr(0,6)){var b=a.split("?"),c=b[0].split("/");a="index.php?option="+c[0],c[1]&&(a=a+"&view="+c[1]),b[1]&&(a=a+"&"+b[1])}return new RegExp("^(http(s)?[:]//)","i").test(a)||"//"!=a.substr(0,2)&&(a="/"+a),a}function trace(a){void 0!==window.console&&console.log(a)}function onloadEvents(){$("[notchecked]").each(function(){$(this).is(":checked")||$(this).before('<input type="hidden" name="'+$(this).attr("name")+'" value="'+$(this).attr("notchecked")+'"  dummy-checkbox="true"/>')})}function onload_events(){$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),jQuery.fn.placeholder&&$("[placeholder]").livequery(function(){$(this).placeholder()}),$(document).on("click","[data-prevent]",function(a){return a.preventDefault(),!1}),$(document).on("submit","form",function(){$(this).clearWatermark()}),$(document).on("click","[data-task]",function(){var a=$(this).parents("form:first").find("input[name=task]");a.data("task",a.val()),a.val($(this).data("task"))}),$(document).on("click",".ac-dologin, [role=login]",function(a){if(is_user_logged_in)return!0;a.preventDefault();var b=$(this).data("next")||1;return $(this).easyTip({content:{text:function(a,c){var d="members/login";return b&&(d=d+"?next="+encodeURI(b)),c.set("content.title","Login to your account"),c.set("url",d),$.fn.easyTip.ajaxContent(a,c)}},position:{viewport:!1,at:"center",my:"center",target:$(window)},show:{modal:!0,ready:!0},events:{show:null}}),!1}),$(document).on("click",".noty_close",function(a){$(this).parents(".noty_bar:first").slideUp("slow")}),jQuery(document).on("click",".easySubmit :submit,.easySubmit :button",function(){$(this).parents("form:first").find("input").removeClass("clicked"),$(this).parents("form:first").find("button").removeClass("clicked"),$(this).addClass("clicked")}),jQuery('.easySubmit, [data-role="easySubmit"], [role="easySubmit"]').livequery(function(){jQuery(this).easySubmit()}),jQuery('.easyValidate, [role="easyValidate"]').livequery(function(){jQuery(this).validate()}),jQuery('.easyValidator, [role="easyValidator"]').livequery(function(){jQuery(this).validator()}),jQuery('.easyRender, [role="render"]').livequery(function(){jQuery(this).speedRender()}),jQuery(document).on("click","div.error, div.ui-error",function(){jQuery(this).fadeOut()}),$(document).on("click","[notchecked]",function(){$(this).is(":checked")?$(this).prev("[dummy-checkbox]").remove():$(this).before('<input type="hidden" name="'+$(this).attr("name")+'" value="'+$(this).attr("notchecked")+'" dummy-checkbox="true"/>')}),jQuery(document).on("click",".ac-add",function(){jQuery(".ac-attrs tfoot:first tr").clone().appendTo(".ac-attrs tbody")}),jQuery(document).on("click",".ac-remove",function(){jQuery(this).parents("tr:eq(0)").remove()}),jQuery(document).on("click","a[href=#]",function(a){a.preventDefault()})}function getForm(a){var b=null;if(a.parents("form:eq(0)").length>0)var b=a.parents("form:eq(0)");else if(a.parents().find(".ac-filter-form").length>0)var b=jQuery(".ac-filter-form");else var b=jQuery("#ajax_form");return b}function displayNoty(a,b,c){try{var d=JSON.parse(a)}catch(b){var d=a;"object"!=typeof d&&(d={})}if("OK"==d.status?noty({text:d.message,type:"success",layout:"topCenter"}):"INFO"==d.status?noty({text:d.message,type:"info",layout:"topCenter"}):noty({text:d.message,type:"error",layout:"topCenter"}),d.login){var e="members/login";e+=d.next?"?next="+encodeURI(d.next):"",d.link={},d.link.url=_link(e),d.link.title="Login to your account"}if(d.link){var f="tip-link";return $("#"+f).remove(),$("body").append($('<a id="'+f+'" style="display:none"></a>')),$("#"+f).easyTip({content:{text:function(a,b){return b.set("content.title",d.link.title),b.set("url",d.link.url),$.fn.easyTip.ajaxContent(a,b)}},position:{viewport:!1,at:"center",my:"center",target:$(window)},show:{modal:!0,ready:!0},events:{show:null}}).qtip("show"),!0}if(d.redirect){var g=d.redirect;g=g.replace("&amp;","&"),setTimeout(function(){window.top.location.href=g},1e3)}"function"==typeof b?b(d,c):"function"==typeof window[b]&&window[b](d,c)}!function(a,b,c){a.uaMatch=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},matched=a.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),a.browser=browser,a.fn.live=function(b,c,d){return a(document).on(b,this.selector,c,d),this}}(jQuery,window),function(a){a.fn.clearWatermark=function(){a(".placeholder",this).each(function(){a(this).val()==a(this).attr("placeholder")&&a(this).val("")})}}(jQuery),function(a){a.fn.serializeFormJSON=function(){var b={},c=this.serializeArray();return a.each(c,function(){b[this.name]?(b[this.name].push||(b[this.name]=[b[this.name]]),b[this.name].push(this.value||"")):b[this.name]=this.value||""}),b}}(jQuery),function(a){a.extend(a.fn,{livequery:function(b,c,d){var f,e=this;return a.isFunction(b)&&(d=c,c=b,b=void 0),a.each(a.livequery.queries,function(a,g){if(!(e.selector!=g.selector||e.context!=g.context||b!=g.type||c&&c.$lqguid!=g.fn.$lqguid||d&&d.$lqguid!=g.fn2.$lqguid))return(f=g)&&!1}),f=f||new a.livequery(this.selector,this.context,b,c,d),f.stopped=!1,f.run(),this},expire:function(b,c,d){var e=this;return a.isFunction(b)&&(d=c,c=b,b=void 0),a.each(a.livequery.queries,function(f,g){e.selector!=g.selector||e.context!=g.context||b&&b!=g.type||c&&c.$lqguid!=g.fn.$lqguid||d&&d.$lqguid!=g.fn2.$lqguid||this.stopped||a.livequery.stop(g.id)}),this}}),a.livequery=function(b,c,d,e,f){return this.selector=b,this.context=c,this.type=d,this.fn=e,this.fn2=f,this.elements=[],this.stopped=!1,this.id=a.livequery.queries.push(this)-1,e.$lqguid=e.$lqguid||a.livequery.guid++,f&&(f.$lqguid=f.$lqguid||a.livequery.guid++),this},a.livequery.prototype={stop:function(){var a=this;this.type?this.elements.unbind(this.type,this.fn):this.fn2&&this.elements.each(function(b,c){a.fn2.apply(c)}),this.elements=[],this.stopped=!0},run:function(){if(!this.stopped){var b=this,c=this.elements,d=a(this.selector,this.context),e=d.not(c);this.elements=d,this.type?(e.bind(this.type,this.fn),c.length>0&&a.each(c,function(c,e){a.inArray(e,d)<0&&a.event.remove(e,b.type,b.fn)})):(e.each(function(){b.fn.apply(this)}),this.fn2&&c.length>0&&a.each(c,function(c,e){a.inArray(e,d)<0&&b.fn2.apply(e)}))}}},a.extend(a.livequery,{guid:0,queries:[],queue:[],running:!1,timeout:null,checkQueue:function(){if(a.livequery.running&&a.livequery.queue.length)for(var b=a.livequery.queue.length;b--;)a.livequery.queries[a.livequery.queue.shift()].run()},pause:function(){a.livequery.running=!1},play:function(){a.livequery.running=!0,a.livequery.run()},registerPlugin:function(){a.each(arguments,function(b,c){if(a.fn[c]){var d=a.fn[c];a.fn[c]=function(){var b=d.apply(this,arguments);return a.livequery.run(),b}}})},run:function(b){void 0!=b?a.inArray(b,a.livequery.queue)<0&&a.livequery.queue.push(b):a.each(a.livequery.queries,function(b){a.inArray(b,a.livequery.queue)<0&&a.livequery.queue.push(b)}),a.livequery.timeout&&clearTimeout(a.livequery.timeout),a.livequery.timeout=setTimeout(a.livequery.checkQueue,20)},stop:function(b){void 0!=b?a.livequery.queries[b].stop():a.each(a.livequery.queries,function(b){a.livequery.queries[b].stop()})}}),a.livequery.registerPlugin("append","prepend","after","before","wrap","attr","removeAttr","addClass","removeClass","toggleClass","empty","remove","html"),a(function(){a.livequery.play()})}(jQuery),function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(a,b){this.defaults.type=a,this.defaults.name=b},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);settings.single.length||(settings.single="metadata"),data="{}";var getData=function(data){return"string"!=typeof data?data:void(data.indexOf("{")<0&&(data=eval("("+data+")")))},getObject=function(data){return"string"!=typeof data?data:(data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"))};if("html5"==settings.type)return $(elem).data();if("class"==settings.type){var m=settings.cre.exec(elem.className);m&&(data=m[1])}else if("elem"==settings.type){if(!elem.getElementsByTagName)return;var e=elem.getElementsByTagName(settings.name);e.length&&(data=$.trim(e[0].innerHTML))}else if(void 0!=elem.getAttribute){var attr=elem.getAttribute(settings.name);attr&&(data=attr)}return object=getObject(data.indexOf("{")<0?"{"+data+"}":data),object}}}),$.fn.metadata=function(a){return $.metadata.get(this[0],a)}}(jQuery),function(a){function b(){var a="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(a):window.opera&&window.opera.postError&&window.opera.postError(a)}a.fn.ajaxSubmit=function(c){function t(e){function u(a){var b=a.contentWindow?a.contentWindow.document:a.contentDocument?a.contentDocument:a.document;return b}function v(){function h(){try{var a=u(m).readyState;b("state = "+a),"uninitialized"==a.toLowerCase()&&setTimeout(h,50)}catch(a){b("Server abort: ",a," (",a.name,")"),A(t),r&&clearTimeout(r),r=void 0}}var c=g.attr("target"),e=g.attr("action");f.setAttribute("target",k),d||f.setAttribute("method","POST"),e!=i.url&&f.setAttribute("action",i.url),i.skipEncodingOverride||d&&!/post/i.test(d)||g.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),i.timeout&&(r=setTimeout(function(){q=!0,A(s)},i.timeout)),a('<input type="hidden" name="_request" value="iframe" />').appendTo(f);var j=[];try{if(i.extraData)for(var n in i.extraData)j.push(a('<input type="hidden" name="'+n+'" />').attr("value",i.extraData[n]).appendTo(f)[0]);i.iframeTarget||(l.appendTo("body"),m.attachEvent?m.attachEvent("onload",A):m.addEventListener("load",A,!1)),setTimeout(h,15),f.submit()}finally{f.setAttribute("action",e),c?f.setAttribute("target",c):g.removeAttr("target"),a(j).remove()}}function A(c){if(!n.aborted&&!z){try{x=u(m)}catch(a){b("cannot access response document: ",a),c=t}if(c===s&&n)return void n.abort("timeout");if(c==t&&n)return void n.abort("server abort");if(x&&x.location.href!=i.iframeSrc||q){m.detachEvent?m.detachEvent("onload",A):m.removeEventListener("load",A,!1);var e,d="success";try{if(q)throw"timeout";var f="xml"==i.dataType||x.XMLDocument||a.isXMLDoc(x);if(b("isXml="+f),!f&&window.opera&&(null==x.body||""==x.body.innerHTML)&&--y)return b("requeing onLoad callback, DOM not available"),void setTimeout(A,250);var g=x.body?x.body:x.documentElement;n.responseText=g?g.innerHTML:null,n.responseXML=x.XMLDocument?x.XMLDocument:x,f&&(i.dataType="xml"),n.getResponseHeader=function(a){var b={"content-type":i.dataType};return b[a]},g&&(n.status=Number(g.getAttribute("status"))||n.status,n.statusText=g.getAttribute("statusText")||n.statusText);var h=i.dataType||i.format,k=/(json|script|text)/.test(h.toLowerCase());if(k||i.textarea){var l=x.getElementsByTagName("textarea")[0];if(l)n.responseText=l.value,n.status=Number(l.getAttribute("status"))||n.status,n.statusText=l.getAttribute("statusText")||n.statusText;else if(k){var o=x.getElementsByTagName("pre")[0],p=x.getElementsByTagName("body")[0];o?n.responseText=o.textContent?o.textContent:o.innerHTML:p&&(n.responseText=p.innerHTML)}}else"xml"!=i.dataType||n.responseXML||null==n.responseText||(n.responseXML=B(n.responseText));try{w=D(n,i.dataType,i)}catch(a){d="parsererror",n.error=e=a||d}}catch(a){b("error caught: ",a),d="error",n.error=e=a||d}n.aborted&&(b("upload aborted"),d=null),n.status&&(d=n.status>=200&&n.status<300||304===n.status?"success":"error"),"success"===d?(i.success&&i.success.call(i.context,w,"success",n),j&&a.event.trigger("ajaxSuccess",[n,i])):d&&(void 0==e&&(e=n.statusText),i.error&&i.error.call(i.context,n,d,e),j&&a.event.trigger("ajaxError",[n,i,e])),j&&a.event.trigger("ajaxComplete",[n,i]),j&&!--a.active&&a.event.trigger("ajaxStop"),i.complete&&i.complete.call(i.context,n,d),z=!0,i.timeout&&clearTimeout(r),setTimeout(function(){i.iframeTarget||(n.responseXML=null)},100)}}}var h,i,j,k,l,m,n,o,p,q,r,f=g[0];if(e)for(h=0;h<e.length;h++)a(f[e[h].name]).attr("disabled",!1);if(a(":input[name=submit],:input[id=submit]",f).length)return void alert('Error: Form elements must not have name or id of "submit".');if(i=a.extend(!0,{},a.ajaxSettings,c),i.context=i.context||i,k="jqFormIO"+(new Date).getTime(),i.iframeTarget?(l=a(i.iframeTarget),p=l.attr("name"),null==p?l.attr("name",k):k=p):(l=a('<iframe name="'+k+'" src="'+i.iframeSrc+'" />'),l.css({position:"absolute",top:"-1000px",left:"-1000px"}),console.log("I frame loadd")),m=l[0],n={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(c){var d="timeout"===c?"timeout":"aborted";b("aborting upload... "+d),this.aborted=1,l.attr("src",i.iframeSrc),n.error=d,i.error&&i.error.call(i.context,n,d,c),j&&a.event.trigger("ajaxError",[n,i,d]),i.complete&&i.complete.call(i.context,n,d)}},j=i.global,j&&!a.active++&&a.event.trigger("ajaxStart"),j&&a.event.trigger("ajaxSend",[n,i]),i.beforeSend&&i.beforeSend.call(i.context,n,i)===!1)return void(i.global&&a.active--);if(!n.aborted){o=f.clk,o&&(p=o.name,p&&!o.disabled&&(i.extraData=i.extraData||{},i.extraData[p]=o.value,"image"==o.type&&(i.extraData[p+".x"]=f.clk_x,i.extraData[p+".y"]=f.clk_y)));var s=1,t=2;i.forceSync?v():setTimeout(v,10);var w,x,z,y=50,B=a.parseXML||function(a,b){return window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml"),b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},C=a.parseJSON||function(a){return window.eval("("+a+")")},D=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&e.indexOf("xml")>=0,g=f?b.responseXML:b.responseText;return f&&"parsererror"===g.documentElement.nodeName&&a.error&&a.error("parsererror"),d&&d.dataFilter&&(g=d.dataFilter(g,c)),"string"==typeof g&&("json"===c||!c&&e.indexOf("json")>=0?g=C(g):("script"===c||!c&&e.indexOf("javascript")>=0)&&a.globalEval(g)),g}}}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;var d,e,f,g=this;"function"==typeof c&&(c={success:c}),d=this.attr("method"),e=this.attr("action"),f="string"==typeof e?a.trim(e):"",f=f||window.location.href||"",f&&(f=(f.match(/^([^#]+)/)||[])[1]),c=a.extend(!0,{url:f,success:a.ajaxSettings.success,type:d||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);var h={};if(this.trigger("form-pre-serialize",[this,c,h]),h.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(c.beforeSerialize&&c.beforeSerialize(this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var i,j,k=this.formToArray(c.semantic);if(c.data){c.extraData=c.data;for(i in c.data)if(c.data[i]instanceof Array)for(var l in c.data[i])k.push({name:i,value:c.data[i][l]});else j=c.data[i],j=a.isFunction(j)?j():j,k.push({name:i,value:j})}if(c.beforeSubmit&&c.beforeSubmit(k,this,c)===!1)return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[k,this,c,h]),h.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var m=a.param(k);"GET"==c.type.toUpperCase()?(c.url+=(c.url.indexOf("?")>=0?"&":"?")+m,c.data=null):c.data=m;var n=[];if(c.resetForm&&n.push(function(){g.resetForm()}),c.clearForm&&n.push(function(){g.clearForm()}),!c.dataType&&c.target){var o=c.success||function(){};n.push(function(b){var d=c.replaceTarget?"replaceWith":"html";a(c.target)[d](b).each(o,arguments)})}else c.success&&n.push(c.success);c.success=function(a,b,d){for(var e=c.context||c,f=0,h=n.length;f<h;f++)n[f].apply(e,[a,b,d||g,g,c])};var p=a("input:file",this).length>0,q="multipart/form-data",r=g.attr("enctype")==q||g.attr("encoding")==q;if(c.iframe!==!1&&(p||c.iframe||r))c.closeKeepAlive?a.get(c.closeKeepAlive,function(){t(k)}):t(k);else{if(a.browser.msie&&"get"==d){var s=g[0].getAttribute("method");"string"==typeof s&&(c.type=s)}a.ajax(c)}return this.trigger("form-submit-notify",[this,c]),this},a.fn.ajaxForm=function(c){if(0===this.length){var d={s:this.selector,c:this.context};return!a.isReady&&d.s?(b("DOM not ready, queuing ajaxForm"),a(function(){a(d.s,d.c).ajaxForm(c)}),this):(b("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)")),this)}return this.ajaxFormUnbind().bind("submit.form-plugin",function(b){b.isDefaultPrevented()||(b.preventDefault(),a(this).ajaxSubmit(c))}).bind("click.form-plugin",function(b){var c=b.target,d=a(c);if(!d.is(":submit,input:image")){var e=d.closest(":submit");if(0==e.length)return;c=e[0]}var f=this;if(f.clk=c,"image"==c.type)if(void 0!=b.offsetX)f.clk_x=b.offsetX,f.clk_y=b.offsetY;else if("function"==typeof a.fn.offset){var g=d.offset();f.clk_x=b.pageX-g.left,f.clk_y=b.pageY-g.top}else f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop;setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)})},a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},a.fn.formToArray=function(b){var c=[];if(0===this.length)return c;var d=this[0],e=b?d.getElementsByTagName("*"):d.elements;if(!e)return c;var f,g,h,i,j,k,l;for(f=0,k=e.length;f<k;f++)if(j=e[f],h=j.name)if(b&&d.clk&&"image"==j.type)j.disabled||d.clk!=j||(c.push({name:h,value:a(j).val()}),c.push({name:h+".x",value:d.clk_x},{name:h+".y",value:d.clk_y}));else if(i=a.fieldValue(j,!0),i&&i.constructor==Array)for(g=0,l=i.length;g<l;g++)c.push({name:h,value:i[g]});else null!==i&&"undefined"!=typeof i&&c.push({name:h,value:i});if(!b&&d.clk){var m=a(d.clk),n=m[0];h=n.name,h&&!n.disabled&&"image"==n.type&&(c.push({name:h,value:m.val()}),c.push({name:h+".x",value:d.clk_x},{name:h+".y",value:d.clk_y}))}return c},a.fn.formSerialize=function(b){return a.param(this.formToArray(b))},a.fn.fieldSerialize=function(b){var c=[];return this.each(function(){var d=this.name;if(d){var e=a.fieldValue(this,b);if(e&&e.constructor==Array)for(var f=0,g=e.length;f<g;f++)c.push({name:d,value:e[f]});else null!==e&&"undefined"!=typeof e&&c.push({name:this.name,value:e})}}),a.param(c)},a.fn.fieldValue=function(b){for(var c=[],d=0,e=this.length;d<e;d++){var f=this[d],g=a.fieldValue(f,b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c},a.fieldValue=function(b,c){var d=b.name,e=b.type,f=b.tagName.toLowerCase();if(void 0===c&&(c=!0),c&&(!d||b.disabled||"reset"==e||"button"==e||("checkbox"==e||"radio"==e)&&!b.checked||("submit"==e||"image"==e)&&b.form&&b.form.clk!=b||"select"==f&&b.selectedIndex==-1))return null;if("select"==f){var g=b.selectedIndex;if(g<0)return null;for(var h=[],i=b.options,j="select-one"==e,k=j?g+1:i.length,l=j?g:0;l<k;l++){var m=i[l];if(m.selected){var n=m.value;if(n||(n=m.attributes&&m.attributes.value&&!m.attributes.value.specified?m.text:m.value),j)return n;h.push(n)}}return h}return a(b).val()},a.fn.clearForm=function(){return this.each(function(){a("input,select,textarea",this).clearFields()})},a.fn.clearFields=a.fn.clearInputs=function(){var a=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var b=this.type,c=this.tagName.toLowerCase();a.test(b)||"textarea"==c?this.value="":"checkbox"==b||"radio"==b?this.checked=!1:"select"==c&&(this.selectedIndex=-1)})},a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})},a.fn.enable=function(a){return void 0===a&&(a=!0),this.each(function(){this.disabled=!a})},a.fn.selected=function(b){return void 0===b&&(b=!0),this.each(function(){var c=this.type;if("checkbox"==c||"radio"==c)this.checked=b;else if("option"==this.tagName.toLowerCase()){var d=a(this).parent("select");b&&d[0]&&"select-one"==d[0].type&&d.find("option").selected(!1),this.selected=b}})}}(jQuery),function(a){function h(a){return a>1073741824?(a/1024/1024/1024).toFixed(2)+" GB":a>1048576?(a/1024/1024).toFixed(2)+" MB":a>1024?(a/1024).toFixed(2)+" KB":a<1024?a+" Bytes":void 0}function i(b,c,d){c=a(c).first()||c;var e=b.offset().top,f=b.offset().left,g=d.position.split(/,?\s+/),h=g[0],i=g[1];e-=c.outerHeight()-d.offset[0],f+=b.outerWidth()+d.offset[1],/iPad/i.test(navigator.userAgent)&&(e-=a(window).scrollTop());var j=c.outerHeight()+b.outerHeight();"center"==h&&(e+=j/2),"bottom"==h&&(e+=j);var k=b.outerWidth();return"center"==i&&(f-=(k+c.outerWidth())/2),"left"==i&&(f-=k),{top:e,left:f}}function j(a){function b(){return this.getAttribute("type")==a}return b.key='[type="'+a+'"]',b}function m(b,c,e){function j(b,c,d){if(e.grouped||!b.length){var f;if(d===!1||a.isArray(d)){f=g.messages[c.key||c]||g.messages["*"],f=f[e.lang]||g.messages["*"].en;var h=f.match(/\$\d/g);h&&a.isArray(d)&&a.each(h,function(a){f=f.replace(this,d[a])})}else f=d[e.lang]||d;b.push(f)}}var f=this,h=c.add(f);b=b.not(":button, :image, :reset, :submit"),c.attr("novalidate","novalidate"),a.extend(f,{getConf:function(){return e},getForm:function(){return c},getInputs:function(){return b},reflow:function(){return b.each(function(){var b=a(this),c=b.data("msg.el");if(c){var d=i(b,c,e);c.css({top:d.top,left:d.left})}}),f},invalidate:function(c,d){if(!d){var g=[];a.each(c,function(a,c){var d=b.filter("[name='"+a+"']");d.length&&(d.trigger("OI",[c]),g.push({input:d,messages:[c]}))}),c=g,d=a.Event()}return d.type="onFail",h.trigger(d,[c]),d.isDefaultPrevented()||l[e.effect][0].call(f,c,d),f},reset:function(c){return c=c||b,c.removeClass(e.errorClass).each(function(){var b=a(this).data("msg.el");b&&(b.remove(),a(this).data("msg.el",null))}).off(e.errorInputEvent+".v"||""),f},destroy:function(){return c.off(e.formEvent+".V reset.V"),b.off(e.inputEvent+".V change.V"),f.reset()},checkValidity:function(c,g){if(c=c||b,c=c.not(":disabled"),!c.length)return!0;if(g=g||a.Event(),g.type="onBeforeValidate",h.trigger(g,[c]),g.isDefaultPrevented())return g.result;var i=[];c.each(function(){var b=[],c=a(this).data("messages",b),l=d&&c.is(":date")?"onHide.v":e.errorInputEvent+".v";if(c.off(l),a.each(k,function(){var a=this,d=a[0];if(c.filter(d).length){var i=a[1].call(f,c,c.val());if(i!==!0){if(g.type="onBeforeFail",h.trigger(g,[c,d]),g.isDefaultPrevented())return!1;var k=c.attr(e.messageAttr)||c.attr("message");if(k&&c.val())return b=[k],!1;j(b,d,i)}}}),b.length&&(i.push({input:c,messages:b}),c.trigger("OI",[b]),e.errorInputEvent&&c.on(l,function(a){f.checkValidity(c,a)})),e.singleError&&i.length)return!1});var m=l[e.effect];if(!m)throw'Validator: cannot find effect "'+e.effect+'"';return i.length?(f.invalidate(i,g),!1):(m[1].call(f,c,g),g.type="onSuccess",h.trigger(g,[c]),c.off(e.errorInputEvent+".v"),!0)}}),a.each("onBeforeValidate,onBeforeFail,onFail,onSuccess".split(","),function(b,c){a.isFunction(e[c])&&a(f).on(c,e[c]),f[c]=function(b){return b&&a(f).on(c,b),f}}),e.formEvent&&c.on(e.formEvent+".V",function(a){return f.checkValidity(null,a)?(a.target=c,void(a.type=e.formEvent)):a.preventDefault()}),c.on("reset.V",function(){f.reset()}),b[0]&&b[0].validity&&b.each(function(){this.oninvalid=function(){return!1}}),c[0]&&(c[0].checkValidity=f.checkValidity),e.inputEvent&&b.on(e.inputEvent+".V",function(b){f.checkValidity(a(this),b)}),b.filter(":checkbox, select").filter("[required]").on("change.V",function(b){var c=a(this);(this.checked||c.is("select")&&a(this).val())&&l[e.effect][1].call(f,c,b)}),b.filter(":radio[required]").on("change.V",function(b){var c=a("[name='"+a(b.srcElement).attr("name")+"']");null!=c&&0!=c.length&&f.checkValidity(c,b)}),a(window).resize(function(){f.reflow()})}a.tools=a.tools||{version:"@VERSION"};var g,b=/\[type=([a-z]+)\]/,c=/^-?[0-9]*(\.[0-9]+)?$/,d=a.tools.dateinput,e=/^([a-z0-9_\.\-\+]+)@([\da-z\.\-]+)\.([a-z\.]{2,6})$/i,f=/^(https?:\/\/)?[\da-z\.\-]+\.[a-z\.]{2,6}[#&+_\?\/\w \.\-=]*$/i;g=a.tools.validator={conf:{grouped:!1,effect:"default",errorClass:"invalid",inputEvent:null,errorInputEvent:"keyup",formEvent:"submit",lang:"en",message:"<div><em/></div>",messageAttr:"data-message",messageClass:"error",offset:[-5,40],position:"top left",singleError:!1,speed:"normal"},messages:{"*":{en:"This field should not be left blank."}},localize:function(b,c){a.each(c,function(a,c){g.messages[a]=g.messages[a]||{},g.messages[a][b]=c})},localizeFn:function(b,c){g.messages[b]=g.messages[b]||{},a.extend(g.messages[b],c)},fn:function(c,d,e){a.isFunction(d)?e=d:("string"==typeof d&&(d={en:d}),this.messages[c.key||c]=d);var f=b.exec(c);f&&(c=j(f[1])),k.push([c,e])},addEffect:function(a,b,c){l[a]=[b,c]}};var k=[],l={default:[function(b){var c=this.getConf();a.each(b,function(b,d){var e=d.input;e.addClass(c.errorClass);var f=e.data("msg.el");f||(f=a(c.message).addClass(c.messageClass).appendTo(document.body),e.data("msg.el",f)),f.css({visibility:"hidden"}).find("p").remove(),a.each(d.messages,function(b,c){a("<p/>").html(c).appendTo(f)}),f.outerWidth()==f.parent().width()&&f.add(f.find("p")).css({display:"inline"});var g=i(e,f,c);f.css({visibility:"visible",position:"absolute",top:g.top,left:g.left}).fadeIn(c.speed)})},function(b){var c=this.getConf();b.removeClass(c.errorClass).each(function(){var b=a(this).data("msg.el");b&&b.css({visibility:"hidden"})})}]};a.each("email,url,number".split(","),function(b,c){a.expr[":"][c]=function(a){return a.getAttribute("type")===c}}),a.fn.oninvalid=function(a){return this[a?"on":"trigger"]("OI",a)},g.fn(":email,[data-type=email]","Please enter a valid email address",function(a,b){return!b||e.test(b)}),g.fn(":url,[data-type=url]","Please enter a valid URL",function(a,b){return!b||f.test(b)}),g.fn(":number,[data-type=number]","Please enter a numeric value.",function(a,b){return c.test(b)}),g.fn("[data-type='mobile'], [type=mobile]","Please enter a valid 10 digits mobile number.",function(a,b){return!b||mobRe.test(b)}),g.fn("[max]",_e("Please enter a value no larger than $1"),function(a,b){if(""===b||d&&a.is(":date"))return!0;var c=a.attr("max");return parseFloat(b)<=parseFloat(c)||[c]}),g.fn("[min]",_e("Please enter a value of at least $1"),function(a,b){if(""===b||d&&a.is(":date"))return!0;var c=a.attr("min");return parseFloat(b)>=parseFloat(c)||[c]}),g.fn("[minlength]",_e("Please provide at least $1 character(s)"),function(a,b){var c=a.attr("minlength");return b.length>=c||[c]}),g.fn("[maxlength]",_e("Maximum $1 character allowed"),function(a,b){var c=a.attr("maxlength");return b.length<=c||[c]}),g.fn("[minwords]",_e("Please provide at least $1 word(s)"),function(a,b){var c=a.attr("minwords"),d=b.split(/\b[\s,\.-:;]*/).length;return d>=c||[c]}),g.fn("[maxwords]",_e("Maximum $1 word(s) allowed"),function(a,b){var c=a.attr("maxwords"),d=b.split(/\b[\s,\.-:;]*/).length;return d<=c||[c]}),g.fn("[required]","Please complete this mandatory field.",function(a,b){return(""==a.attr("placeholder")||void 0==a.attr("placeholder")||a.attr("placeholder")!=b)&&("group"==a.attr("data-type")||(!a.is(":visible")&&!a.hasClass("validatehidden")||(a.is(":checkbox")?a.is(":checked"):!!b)))}),g.fn("[pattern]",function(a,b){return""===b||new RegExp("^"+a.attr("pattern")+"$").test(b)}),g.fn(":radio[required]","Please select an option.",function(b){var c=!1;a("[name='"+b.attr("name")+"']").each(function(b,d){a(d).is(":checked")&&(c=!0)});return!!c}),g.fn("[type=time]","Please supply a valid time",function(a,b){return/^\d\d:\d\d$/.test(b)}),g.fn("[data-equals]",_e("Value not equal with the $1 field"),function(a){var b=a.attr("data-equals"),c=this.getInputs().filter("[name="+b+"]");return a.val()==c.val()||[b]}),g.fn("[data-type=file],[type=file]",function(b){var c=b.val().split(".").pop().toLowerCase(),d=b.data("accept");if(!d||void 0==d)return!0;var e=d.split(",");if(a.inArray(c,e)==-1)return _e("Please enter valid extensions $1",d);var f=b.data("allowed-size");if(!f||void 0==f||0==f)return!0;var g=b[0],i=parseInt(g.files[0].fileSize);return!(i>f)||_e("File size is : $1 . Allowed size is $2",h(i),h(f))}),g.fn("[data-type=group]",function(a,b){if(a.is(":checkbox"))var c=a.attr("name"),d=this.getInputs().filter("[name="+c+"]:checked");else var d=a.val();if(!d)return!0;var e=a.attr("data-length"),f=a.attr("data-max"),g=a.attr("data-min");return e&&d.length!=parseInt(e)?_e("You have to select $1 value(s)!",e):f&&d.length>parseInt(f)?_e("You can select maximum $1 value(s)",f):!(g&&d.length<parseInt(g))||_e("You have to select minimum $1 value(s)",g)}),a.fn.validator=function(b){var c=this.data("validator");return c&&(c.destroy(),this.removeData("validator")),b=a.extend(!0,{},g.conf,b),this.is("form")?this.each(function(){var d=a(this);c=new m(d.find(":input"),d,b),d.data("validator",c)}):(c=new m(this,this.eq(0).closest("form"),b),this.data("validator",c))}}(jQuery),function(a){a.fn.validate=function(b){var c={message:"<div><em/><div/>",grouped:!1,inputEvent:"keyup blur",errorInputEvent:"keyup",formEvent:"submit"};return b=a.extend(c,b),this.each(function(){var c=a(this),d=a.metadata?a.extend({},b,c.metadata({type:"html5"})):b;if(c.is("form"))var e=this;else var e=a(this).closest("form");return a.fn.validate.isValid(e,d)})},a.fn.validate.isValid=function(b,c){a(b).validator(c).submit(function(c){return c.isDefaultPrevented()?(a(b).attr({valid:!1}),!1):(a(b).attr({valid:!0}),c.preventDefault(),!0)})}}(jQuery),$.tools.validator.addEffect("image",function(a,b){$.each(a,function(a,b){b.input.next(".ac-input-msg").remove(),b.input.after('<span class="ui-input-err ac-input-msg" title="'+b.messages[0]+'">&nbsp;</span>')})},function(a){var b=this.getConf();a.removeClass(b.errorClass).each(function(){$(this).next(".ac-input-msg").remove(),$(this).after('<span class="ui-input-ok ac-input-msg">&nbsp;</span>')})}),$.tools.validator.addEffect("noty",function(a,b){$.each(a,function(a,b){return noty({type:"error",text:b.messages[0]}),!1})}),function(a){var b="easySubmit",c={target:"",reload:!1,return_url:null,validate:!0,onComplete:function(){},onFailed:function(){},inputEvent:"blur"},d=function(b,d){if(this.element=b,this.settings=a.extend({},c,d),a.metadata&&(this.settings=a.extend({},this.settings,b.metadata({type:"class"})),this.settings=a.extend({},this.settings,b.metadata({type:"html5"}))),b.is("form")?this.form=b:this.form=b.parents("form:eq(0)"),1==this.settings.validate)this.validate();else{var e=this;this.form.submit(function(){e.formSubmit()})}};d.prototype.validate=function(){var a=this;this.form.validator(a.settings).submit(function(b){if(!b.isDefaultPrevented())return a.callback("onValidationSuccess",{}),a.form.attr({valid:!0}),a.formSubmit(),!1;a.callback("onValidationFail",{}),b.preventDefault(),a.form.attr({valid:!1});var c=a.form.attr("message")||_e("Please correct the highlighted error(s)");noty({text:c,type:"error"})})},d.prototype.formSubmit=function(){var b=this,f=(this.settings.beforeSubmit||this.beforeSubmit,this.settings.success||this.success,this.settings.onProgress||this.progress,{beforeSubmit:function(){b.beforeSubmit()},success:function(a){b.success(a)},uploadProgress:function(a,c,d,e){b.progress(e,d,c)},format:"json",data:{format:"json"}}),g=a.extend({},this.settings,f);this.element.ajaxSubmit(g)},d.prototype.beforeSubmit=function(){var a=this.form.data("confirm");return!(void 0!=a&&""!=a&&!a(a))&&(this.addLoading(),!0)},d.prototype.addLoading=function(){var a=this.getTarget();if("object"==typeof a){a.attr("disabled",!0);var b=!1;if(a.is("button")){b=!0;var c=a.html()}else var c=a.val();if(a.data("value",c),a.addClass("loader"),void 0!=a.data("loader")){var d=a.data("loader").split(";");
b?a.html(d[0]):a.val(d[0])}else b?a.val(_e("Please wait...")):a.val(_e("Please wait..."))}},d.prototype.removeLoading=function(){var a=this.getTarget();"object"==typeof a&&(a.attr("disabled",!1),a.removeClass("loader"),a.is("button")?a.html(a.data("value")):a.val(a.data("value")))},d.prototype.getTarget=function(){var b=this.element;if(b.is("form")){var c=b.find(".clicked").length?b.find(".clicked"):b.find("[type=submit]:first");if("undefined"!=typeof b.data("submit-target"))var c=a(b.data("submit-target"))}else var c=this;return c},d.prototype.progress=function(b,c,d){this.settings.progress&&a(this.settings.progress).width(b+"%");var e=this.form.find("#onProgress").val();if(""!=e&&void 0!=e){var f=window[e];"function"==typeof f&&f(b,c,d,this)}},d.prototype.success=function(b){var c=this;c.removeLoading(),a(".ac-captcha").each(function(){var b=a(this).attr("src");b+=b.indexOf("?")?"&":"?",b+="sid="+Math.random(),a(this).attr({src:b})});try{var d=JSON.parse(b)}catch(a){var d=b;"object"!=typeof d&&(d=null)}if(d===!1||null===d)return noty({text:"Something went wrong and we cannot service your request. Please try again.",type:"error"}),!0;if(c.callback("onComplete",d),d.login){var e="members/login";e+=d.next?"?next="+encodeURI(d.next):"",d.link={},d.link.url=_link(e),d.link.title="Login to your account"}if(d.link){var f="tip-link";return a("#"+f).remove(),a("body").append(a('<a id="'+f+'" style="display:none"></a>')),a("#"+f).easyTip({content:{text:function(b,c){return c.set("content.title",d.link.title),c.set("url",d.link.url),a.fn.easyTip.ajaxContent(b,c)}},position:{viewport:!1,at:"center",my:"center",target:a(window)},show:{modal:!0,ready:!0},events:{show:null}}).qtip("show"),!0}if("200"==d.status||"OK"==d.status){if(this.callback("onSuccess",d),d.preview){if(!d.preview.body)return noty({text:"Invalid response from server. Please try again.",type:"error"}),!0;var g=d.preview.title||"Preview",f="tip-preview";return a("#"+f).remove(),a("body").append(a('<a id="'+f+'" style="display:none" title="'+g+'">'+g+"</a>")),a("#"+f).easyTip({content:{text:d.preview.body},position:{viewport:!1,at:"center",my:"center",target:a(window)},show:{modal:!0,ready:!0,solo:!0},events:{show:null}}).qtip("show"),!0}d.message&&noty({text:d.message,type:"success"}),c.settings.alert&&alert(d.message),c.settings.reset&&c.form.resetForm(),c.settings.clear&&c.form.clearForm(),c.settings.hide&&a.fn.qtip&&setTimeout(function(){a("*").qtip("hide")},1e3);var h=c.form.find("#return_url").val();c.settings.return_url?c.redirect(return_url,1e3):""!=h&&void 0!=h?c.redirect(h,1e3):c.settings.reload&&setTimeout("location.reload(true);",1e3),c.settings.render&&(a("#page").val(1),ajaxPagination.load());var i=c.settings.submit;"parent"==i?c.form.closest("form").submit():i&&a(c.settings.submit).submit(),d.redirect&&c.redirect(d.redirect,1e3)}else if("INFO"==d.status)d.message&&noty({text:d.message,type:"information"}),c.callback("onInfo",d);else{if("undefined"==typeof d.status&&d.redirect)return c.redirect(d.redirect,1e3),!0;d.message&&noty({text:d.message,type:"error"}),d.errors&&c.form.data("validator").invalidate(d.errors),c.callback("onFailed",d)}c.settings.target&&a(c.settings.target).empty().show().html(message)},d.prototype.redirect=function(a,b){var c=b?b:0,a=a.replace("&amp;","&");setTimeout(function(){window.top.location.href=a},c)},d.prototype.callback=function(a,b){var c=this,d=c.settings[a];if(d&&"undefined"!=typeof d)if("function"==typeof d)d(b,c,c.settings);else{var e=window[d];"function"==typeof e&&e(b,c,c.settings)}var f=a.toLowerCase(),d=c.settings[f];if(d&&"undefined"!=typeof d)if("function"==typeof d)d(b,c,c.settings);else{var e=window[d];"function"==typeof e&&e(b,c,c.settings)}var d=c.form.find("#"+a).val();if(""!=d&&"undefined"!=typeof d){var e=window[d];"function"==typeof e&&e(b,c,c.settings)}},a.fn.easySubmit=function(c){return this.each(function(){a.data(this,b)||a.data(this,b,new d(a(this),c))})}}(jQuery),function(a){var b="speedRender",c={response_target:".ac-ajax-content",total_target:".ac-ajax-total",loadmore:".ac-load-more",overlayclass:"render-overlay",append:!1,data:{}},d=function(b,d){return this.element=b,this.settings=a.extend({},c,d),a.metadata&&(this.settings=a.extend({},this.settings,b.metadata({type:"class"})),this.settings=a.extend({},this.settings,b.metadata({type:"html5"}))),b.is("form")?this.form=b:this.form=b.parents("form:eq(0)"),!!this.form&&(this.init(),void this.submit())};d.prototype.init=function(){var b=this,c=!1,d=0;a(b.form).on("click",".ac-ajax-pagination a",function(c){c.preventDefault();var d=a(this).data("page");return!!d&&(b.form.find("input[name=page]").val(d),b.settings.append=!1,b.formSubmit(),!1)}),a(b.form).on("click",b.settings.loadmore,function(c){c.preventDefault();var d=a(this).data("page");return b.form.find("input[name=page]").val(d),b.settings.append=!0,b.formSubmit(),!1}),a(window).scroll(function(){var e=b.form.find(b.settings.loadmore).offset(),f=e?e.top:0;if(isNaN(f)||0==f)return!1;if(d!=f){d=f;var g=b.form.find("input[name=page]").val();g<3&&(c=!1)}!c&&a(window).scrollTop()+a(window).height()>f&&(c=!0,b.form.find(b.settings.loadmore).click())})},d.prototype.submit=function(){var a=this;a.form.submit(function(b){return b.preventDefault(),a.formSubmit(),!1})},d.prototype.formSubmit=function(){var b=this,c=b.settings.data;c.format="html";var d={beforeSubmit:function(){b.beforeSubmit()},success:function(a){b.onSuccess(a)},data:c},e=a.extend({},this.settings,d);this.element.ajaxSubmit(e)},d.prototype.beforeSubmit=function(){var a=this,b=a.form.find(a.settings.response_target);return b.addClass(a.settings.overlayclass),a.form.find(a.settings.loadmore).next(".ac-load-more-loading").show(),a.form.find(a.settings.loadmore).remove(),!0},d.prototype.onSuccess=function(a){var b=this;this.callback("onComplete",a);var c=b.form.find("input[name=page]").val(),d=1!=c&&b.settings.append,e=b.form.find(b.settings.response_target);if(d)b.form.find(".ac-load-more-remove").remove(),e.append(a);else{e.html(a);var f=b.form.find("[data-total]").data("total");b.form.find("input[name=total]").val(f),b.form.find(b.settings.total_target).html(f)}e.removeClass(b.settings.overlayclass)},d.prototype.callback=function(a,b){var c=this,d=c.settings[a];if(d&&"undefined"!=typeof d)if("function"==typeof d)d(b,c,c.settings);else{var e=window[d];"function"==typeof e&&e(b,c,c.settings)}var f=a.toLowerCase(),d=c.settings[f];if(d&&"undefined"!=typeof d)if("function"==typeof d)d(b,c,c.settings);else{var e=window[d];"function"==typeof e&&e(b,c,c.settings)}var d=c.form.find("#"+a).val();if(""!=d&&"undefined"!=typeof d){var e=window[d];"function"==typeof e&&e(b,c,c.settings)}},a.fn.speedRender=function(c){return this.each(function(){a.data(this,b)||a.data(this,b,new d(a(this),c))})}}(jQuery),jQuery(document).ready(function(){onload_events(),onloadEvents()});var ajaxData={};jQuery(document).ready(function(){$(".ac-filter-form").submit(function(a){ajaxData=$(this).serializeFormJSON(),$("#page").val(1),ajaxPagination.load(),a.preventDefault()}),ajaxPagination.init(),ajaxPaging.init()});var ajaxPaging={init:function(){var a=!1,b=0;jQuery(document).on("click",".ac-load-more",function(a){var b=jQuery(this).attr("data-page");return jQuery("#page").val(b),ajaxPaging.load(),a.preventDefault(),!1}),jQuery(window).scroll(function(){var c=jQuery(".ac-load-more").offset(),d=c?c.top:0;if(isNaN(d)||0==d)return!1;if(b!=d){b=d;var e=jQuery("#page").val();e<3&&(a=!1)}!a&&jQuery(window).scrollTop()+jQuery(window).height()>d&&(a=!0,jQuery(".ac-load-more").click())})},before:function(){jQuery(".ac-load-more").next(".ac-load-more-loading").show(),jQuery(".ac-load-more").remove()},after:function(a){jQuery(".ac-load-more-loading").parents(".ac-load-more-remove:eq(0)").remove(),jQuery(".ac-load-more-loading").remove(),jQuery(".ac-ajax-content:eq(0)").append(a),onloadEvents()},load:function(){ajaxData.type="html";var a={beforeSubmit:ajaxPaging.before,success:ajaxPaging.after,data:ajaxData};return jQuery("#ajax_form").ajaxSubmit(a),!1}},ajaxPagination={start:function(a){var a=a||1;$("#page").val(a),this.load()},init:function(){jQuery(document).on("click",".ac-ajax-pagination a",function(a){var b=jQuery(this).data("page");return!!b&&(jQuery("#page").val(b),this.load(),a.preventDefault(),!1)})},before:function(){jQuery(".ac-ajax-component-loader").show(),jQuery(".ac-ajax-content").addClass("ui-ajax-overlay")},after:function(a){jQuery("ac-ajax-component-loader").hide(),jQuery(".ac-ajax-content").removeClass("ui-ajax-overlay"),jQuery(".ac-ajax-content").html(a);var b=jQuery(".ui-load-more-results:first").data("total");$(".ac-ajax-total").html(b),jQuery("#total").val(b),onloadEvents()},load:function(){ajaxData.type="html";var a={beforeSubmit:ajaxPagination.before,success:ajaxPagination.after,data:ajaxData};return"render"==$("#ajax_form").attr("role")||(jQuery("#ajax_form").ajaxSubmit(a),!1)}};$(document).ready(function(){if($(document).on("click","[data-href]",function(a){a.preventDefault();var b=$(this),c=b.data("callback");$.ajax({url:$(this).data("href"),data:{format:"json"},success:function(a){displayNoty(a,c,b)}})}),$(document).on("click",'.ac-action-delete, [data-delete], [data-action="delete"]',function(a){if(!confirm(_e("Are you sure want to delete?")))return!1;var b=$(this),c=b.attr("data-tag")||"tr",d=b.parents(c+":eq(0)"),e=$(this).attr("href")||b.data("delete");$.ajax({url:e,data:{format:"json"},success:function(a){"OK"==a.status&&(d.remove(),$(".ac-ajax-total").html(parseInt($(".ac-ajax-total").text())-1)),displayNoty(a)}}),a.preventDefault()}),$(document).on("click",".ac-action-request",function(a){var b=$(this),c=$(this).attr("href")||b.data("status");$.ajax({url:c,data:{format:"json"},success:function(a){displayNoty(a)}}),a.preventDefault()}),$(document).on("click",".ac-action-status a",function(a){var b=$(this),c=b.parent(".ac-action-status");$.ajax({url:c.data("link"),data:{status:b.data("status"),format:"json"},success:function(a){"OK"==a.status&&(c.find("a:hidden").show(),b.hide()),displayNoty(a)}}),a.preventDefault()}),$(document).on("change",".ac-action-status select",function(a){var b=$(this),c=b.parent(".ac-action-status"),d=$(this).val();$.ajax({url:c.data("link"),data:{status:d,format:"json"},success:function(a){displayNoty(a)}}),a.preventDefault()}),$(document).on("click",".ac-action-request-confirm",function(a){if(!confirm(_e("Are you sure want to proceed?")))return!1;$(this);$.ajax({url:$(this).attr("href"),data:{format:"json"},success:function(a){displayNoty(a)}}),a.preventDefault()}),$(document).on("click",".ac-filter-reset",function(a){var b=getForm($(this));b[0].reset(),a.preventDefault(),b.submit(),$.browser.msie&&init()}),$(document).on("click",".ac-filter-export",function(a){var b=$(this),c=getForm(b);$.fn.clearWatermark();var d=b.attr("base-href");void 0===d&&b.attr("base-href",b.attr("href")),b.attr("href",b.attr("base-href")+"&"+c.serialize())}),$(document).on("click","[data-task]",function(a){a.preventDefault();var b=$(this),c=getForm(b),d=b.data("task"),e=b.data("task-name")||"task",f=c.find("input[name='"+e+"']");if(c.find("input[name='page']").val(1),f.length>0){f.attr("task",f.val());f.val(d)}else jQuery("<input/>",{name:e,value:d,type:"hidden"}).appendTo(c);c.submit()}),$(document).on("click","[data-order]",function(a){a.preventDefault();var b=jQuery(this).attr("data-order"),c=jQuery(this).attr("data-order-type");jQuery(this).addClass("ordering");var d=1;new RegExp("ASC").test(c)&&(d=0),1==d?(jQuery(this).attr("data-order-type","ASC"),jQuery(this).removeClass("desc"),jQuery(this).addClass("asc"),jQuery(this).children("i").removeClass("fa-sort-amount-desc").addClass("fa-sort-amount-asc")):(jQuery(this).removeClass("asc"),jQuery(this).addClass("desc"),jQuery(this).attr("data-order-type","DESC"),jQuery(this).children("i").removeClass("fa-sort-amount-asc").addClass("fa-sort-amount-desc"));var e=getForm($(this));e.find(".ac-sort-name").length>0?jQuery(".ac-sort-name").val(b):jQuery("<input/>",{class:"ac-sort-name",name:"sort",value:b,type:"hidden"}).appendTo(e),e.find(".ac-sort-order").length>0?jQuery(".ac-sort-order").val(c):jQuery("<input/>",{class:"ac-sort-order",name:"order",value:c,type:"hidden"}).appendTo(e),e.submit()}),$(document).on("click","[data-prevent],.quickboxmodal,.qtipmodal,.quickbox,.qtipbox",function(a){a.preventDefault()}),$.fn.sortable){var a=function(a,b){return b.children().each(function(){$(this).width($(this).width())}),b},b=function(a,b){var c=getForm($(this));return c.find(".ac-task-input").length>0?jQuery(".ac-task-input").val("sorting"):jQuery("<input/>",{class:"ac-task-input",name:"task",value:"sorting",type:"hidden"}).appendTo(c),c.submit(),b};$(".table_sortable_body").sortable({connectWith:[".table_sortable_body"],handle:".griddragdrop",opacity:.6,helper:a,update:b}).disableSelection()}$.fn.autocomplete&&$("[data-auto]").livequery(function(){var a=$(this),b={minLength:2,delay:100,source:function(b,c){$.ajax({url:_link(a.data("auto")),data:{task:"auto",q:b.term,format:"json",options:a.data("options")},success:function(a){c(a)}})},select:function(a,b){var c=b.item.id;$(this).parent().find("[data-auto-value]").val(c),$(this).next(".ac-auto-value:first").val(c)},change:function(a,b){b.item||$(this).val("")}};$(this).autocomplete(b).data("ui-autocomplete")._renderItem=function(a,b){return $("<li></li>").data("item.autocomplete",b).append(b.label).appendTo(a)}}),$.fn.tokenfield&&$("[data-token]").livequery(function(){var a=$(this),b={minLength:2,delay:100,source:function(b,c){$.ajax({url:_link(a.data("token")),data:{task:"auto",q:b.term,format:"json",options:a.data("options")},success:function(a){c(a)}})}},c=[];try{c=$.parseJSON(a.attr("tokens"))}catch(a){console.log(a)}a.tokenfield({tokens:c,autocomplete:b}).on("tokenfield:createtoken",function(a){var b=$(this).tokenfield("getTokens");$.each(b,function(b,c){c.value===a.attrs.value&&a.preventDefault()})})}),$(document).on("click",".ac-go-top",function(){jQuery("html, body").animate({scrollTop:0},500)}),$(window).scroll(function(){jQuery(window).scrollTop()<=250?jQuery(".ac-go-top").fadeOut(500):jQuery(".ac-go-top").fadeIn(500)})});
